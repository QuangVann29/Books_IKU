{"ast":null,"code":"import _objectSpread from\"C:/Users/ngova/Downloads/Book_Store_App-master/Book_Store_App-master/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{Box,Button,Heading,Image,Stack,Text,useToast}from\"@chakra-ui/react\";import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useParams}from\"react-router-dom\";import{getBookDetail}from\"../Redux/Books/books.Action\";import{addItemToCart}from\"../Redux/Cart/cart.Action\";import Loading from\"../Components/Loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BookDetails=function BookDetails(){var _useParams=useParams(),id=_useParams.id;var dispatch=useDispatch();var _useSelector=useSelector(function(store){return store.books;}),loading=_useSelector.loading,singleBook=_useSelector.singleBook;var toast=useToast();var _useSelector2=useSelector(function(store){return store.cart;}),addCartItem=_useSelector2.addCartItem,cartData=_useSelector2.cartData;var cartLoading=addCartItem.loading;useEffect(function(){dispatch(getBookDetail(id));},[]);var newItem=_objectSpread(_objectSpread({},singleBook),{},{qty:1});var handleAddToCart=function handleAddToCart(){var isItemInCart=cartData.find(function(item){return item._id===newItem._id;});if(isItemInCart){toast({title:\"Add Failed.\",description:\"Item already in Cart.\",status:\"error\",duration:2000,isClosable:true});}else{dispatch(addItemToCart(newItem));toast({title:\"Add Success.\",description:\"Now you can explore Cart.\",status:\"success\",duration:2000,isClosable:true});}};if(!singleBook){return/*#__PURE__*/_jsx(Box,{children:\"Book not found.\"});}if(loading)return/*#__PURE__*/_jsx(Loading,{});return/*#__PURE__*/_jsx(Box,{mt:\"80px\",border:\"3px solid black\",background:\"black\",color:\"white\",p:4,justifyContent:\"center\",alignItems:\"center\",children:/*#__PURE__*/_jsxs(Stack,{spacing:4,direction:{base:\"column\",md:\"row\"},children:[/*#__PURE__*/_jsx(Image,{src:singleBook.image,alt:singleBook.title,maxW:{base:\"100%\",md:\"300px\"}}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Heading,{as:\"h2\",size:\"lg\",children:singleBook.title}),/*#__PURE__*/_jsx(Text,{fontSize:\"lg\",fontWeight:\"bold\",mt:2,children:singleBook.author}),/*#__PURE__*/_jsxs(Text,{fontSize:\"lg\",mt:2,children:[\"Price: $ \",singleBook.price]}),/*#__PURE__*/_jsxs(Text,{fontSize:\"lg\",mt:2,children:[\"Category: \",singleBook.category]}),/*#__PURE__*/_jsxs(Text,{fontSize:\"lg\",mt:2,children:[\"Description: \",singleBook.description]}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Button,{isLoading:cartLoading,isDisabled:cartData.find(function(item){return item._id===newItem._id;}),loadingText:\"Add to Cart\",width:\"full\",p:4,borderRadius:\"lg\",colorScheme:\"teal\",_hover:{bg:\"teal.300\",color:\"white\"},variant:\"outline\",mt:4,onClick:handleAddToCart,children:\"Add To Cart\"})})]})]})});};export default BookDetails;","map":{"version":3,"names":["Box","Button","Heading","Image","Stack","Text","useToast","React","useEffect","useDispatch","useSelector","useParams","getBookDetail","addItemToCart","Loading","jsx","_jsx","jsxs","_jsxs","BookDetails","_useParams","id","dispatch","_useSelector","store","books","loading","singleBook","toast","_useSelector2","cart","addCartItem","cartData","cartLoading","newItem","_objectSpread","qty","handleAddToCart","isItemInCart","find","item","_id","title","description","status","duration","isClosable","children","mt","border","background","color","p","justifyContent","alignItems","spacing","direction","base","md","src","image","alt","maxW","as","size","fontSize","fontWeight","author","price","category","isLoading","isDisabled","loadingText","width","borderRadius","colorScheme","_hover","bg","variant","onClick"],"sources":["C:/Users/ngova/Downloads/Book_Store_App-master/Book_Store_App-master/frontend/src/Pages/BookDetails.jsx"],"sourcesContent":["import {\n  Box,\n  Button,\n  Heading,\n  Image,\n  Stack,\n  Text,\n  useToast,\n} from \"@chakra-ui/react\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { getBookDetail } from \"../Redux/Books/books.Action\";\nimport { addItemToCart } from \"../Redux/Cart/cart.Action\";\nimport Loading from \"../Components/Loading\";\n\nconst BookDetails = () => {\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const { loading, singleBook } = useSelector((store) => store.books);\n\n  const toast = useToast();\n  const { addCartItem, cartData } = useSelector((store) => store.cart);\n  const { loading: cartLoading } = addCartItem;\n\n  useEffect(() => {\n    dispatch(getBookDetail(id));\n  }, []);\n\n  const newItem = {\n    ...singleBook,\n    qty: 1,\n  };\n\n  const handleAddToCart = () => {\n    const isItemInCart = cartData.find((item) => item._id === newItem._id);\n\n    if (isItemInCart) {\n      toast({\n        title: \"Add Failed.\",\n        description: \"Item already in Cart.\",\n        status: \"error\",\n        duration: 2000,\n        isClosable: true,\n      });\n    } else {\n      dispatch(addItemToCart(newItem));\n      toast({\n        title: \"Add Success.\",\n        description: \"Now you can explore Cart.\",\n        status: \"success\",\n        duration: 2000,\n        isClosable: true,\n      });\n    }\n  };\n\n  if (!singleBook) {\n    return <Box>Book not found.</Box>;\n  }\n  if (loading) return <Loading />;\n  return (\n    <Box mt={\"80px\"} border={\"3px solid black\"} background={\"black\"} color={\"white\"} p={4} justifyContent={\"center\"} alignItems={\"center\"}>\n      <Stack spacing={4} direction={{ base: \"column\", md: \"row\" }}>\n        <Image\n          src={singleBook.image}\n          alt={singleBook.title}\n          maxW={{ base: \"100%\", md: \"300px\" }}\n        />\n        <Box>\n          <Heading as=\"h2\" size=\"lg\">\n            {singleBook.title}\n          </Heading>\n          <Text fontSize=\"lg\" fontWeight=\"bold\" mt={2}>\n            {singleBook.author}\n          </Text>\n          <Text fontSize=\"lg\" mt={2}>\n            Price: $ {singleBook.price}\n          </Text>\n          <Text fontSize=\"lg\" mt={2}>\n            Category: {singleBook.category}\n          </Text>\n          <Text fontSize=\"lg\" mt={2}>\n            Description: {singleBook.description}\n          </Text>\n          <Box>\n            <Button\n              isLoading={cartLoading}\n              isDisabled={cartData.find((item) => item._id === newItem._id)}\n              loadingText=\"Add to Cart\"\n              width=\"full\"\n              p={4}\n              borderRadius=\"lg\"\n              colorScheme=\"teal\"\n              _hover={{\n                bg: \"teal.300\",\n                color: \"white\",\n              }}\n              variant=\"outline\"\n              mt={4}\n              onClick={handleAddToCart}\n            >\n              Add To Cart\n            </Button>\n          </Box>\n        </Box>\n      </Stack>\n    </Box>\n  );\n};\n\nexport default BookDetails;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}