{"ast":null,"code":"import { ERROR_TRUE, LOADING_TRUE, LOG_IN_SUCCESS, LOG_OUT_SUCCESS, SIGN_UP_SUCCESS } from \"./Auth.actionType\";\n\n// Note: Do not update/change the initial state\n\nlet token = localStorage.getItem(\"token\");\nexport const authInitalState = {\n  loading: false,\n  authData: {\n    token: token ? token : null,\n    isAuthenticated: false,\n    userDetail: null\n  },\n  error: {\n    message: \"\",\n    isError: false\n  }\n};\nexport const authReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : authInitalState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n  switch (type) {\n    case LOADING_TRUE:\n      {\n        return {\n          ...state,\n          loading: true,\n          error: false\n        };\n      }\n    case ERROR_TRUE:\n      {\n        return {\n          ...state,\n          loading: false,\n          error: {\n            isError: true,\n            message: payload\n          }\n        };\n      }\n    case SIGN_UP_SUCCESS:\n      {\n        return {\n          ...state,\n          loading: false\n        };\n      }\n    case LOG_IN_SUCCESS:\n      {\n        const {\n          user,\n          token\n        } = payload;\n        localStorage.setItem(\"token\", token);\n        return {\n          ...state,\n          loading: false,\n          authData: {\n            token: token,\n            isAuthenticated: true,\n            userDetail: user\n          }\n        };\n      }\n    case LOG_OUT_SUCCESS:\n      {\n        localStorage.removeItem(\"token\");\n        return {\n          ...state,\n          loading: false,\n          authData: {\n            token: null,\n            isAuthenticated: false,\n            userDetail: null\n          }\n        };\n      }\n    default:\n      {\n        return state;\n      }\n  }\n};","map":{"version":3,"names":["ERROR_TRUE","LOADING_TRUE","LOG_IN_SUCCESS","LOG_OUT_SUCCESS","SIGN_UP_SUCCESS","token","localStorage","getItem","authInitalState","loading","authData","isAuthenticated","userDetail","error","message","isError","authReducer","state","arguments","length","undefined","type","payload","user","setItem","removeItem"],"sources":["C:/Users/ngova/Downloads/Book_Store_App-master/Book_Store_App-master/frontend/src/Redux/Auth/Auth.reducer.js"],"sourcesContent":["import {\n  ERROR_TRUE,\n  LOADING_TRUE,\n  LOG_IN_SUCCESS,\n  LOG_OUT_SUCCESS,\n  SIGN_UP_SUCCESS,\n} from \"./Auth.actionType\";\n\n// Note: Do not update/change the initial state\n\nlet token = localStorage.getItem(\"token\");\n\nexport const authInitalState = {\n  loading: false,\n  authData: {\n    token: token ? token : null,\n    isAuthenticated: false,\n    userDetail: null,\n  },\n  error: {\n    message: \"\",\n    isError: false,\n  },\n};\n\nexport const authReducer = (state = authInitalState, { type, payload }) => {\n  switch (type) {\n    case LOADING_TRUE: {\n      return {\n        ...state,\n        loading: true,\n        error: false,\n      };\n    }\n    case ERROR_TRUE: {\n      return {\n        ...state,\n        loading: false,\n        error: {\n          isError: true,\n          message: payload,\n        },\n      };\n    }\n    case SIGN_UP_SUCCESS: {\n      return {\n        ...state,\n        loading: false,\n      };\n    }\n    case LOG_IN_SUCCESS: {\n      const { user, token } = payload;\n      localStorage.setItem(\"token\", token);\n      return {\n        ...state,\n        loading: false,\n        authData: {\n          token: token,\n          isAuthenticated: true,\n          userDetail: user,\n        },\n      };\n    }\n    case LOG_OUT_SUCCESS: {\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        loading: false,\n        authData: {\n          token: null,\n          isAuthenticated: false,\n          userDetail: null,\n        },\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n"],"mappings":"AAAA,SACEA,UAAU,EACVC,YAAY,EACZC,cAAc,EACdC,eAAe,EACfC,eAAe,QACV,mBAAmB;;AAE1B;;AAEA,IAAIC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;AAEzC,OAAO,MAAMC,eAAe,GAAG;EAC7BC,OAAO,EAAE,KAAK;EACdC,QAAQ,EAAE;IACRL,KAAK,EAAEA,KAAK,GAAGA,KAAK,GAAG,IAAI;IAC3BM,eAAe,EAAE,KAAK;IACtBC,UAAU,EAAE;EACd,CAAC;EACDC,KAAK,EAAE;IACLC,OAAO,EAAE,EAAE;IACXC,OAAO,EAAE;EACX;AACF,CAAC;AAED,OAAO,MAAMC,WAAW,GAAG,SAAAA,CAAA,EAAgD;EAAA,IAA/CC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGV,eAAe;EAAA,IAAE;IAAEa,IAAI;IAAEC;EAAQ,CAAC,GAAAJ,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EACpE,QAAQC,IAAI;IACV,KAAKpB,YAAY;MAAE;QACjB,OAAO;UACL,GAAGgB,KAAK;UACRR,OAAO,EAAE,IAAI;UACbI,KAAK,EAAE;QACT,CAAC;MACH;IACA,KAAKb,UAAU;MAAE;QACf,OAAO;UACL,GAAGiB,KAAK;UACRR,OAAO,EAAE,KAAK;UACdI,KAAK,EAAE;YACLE,OAAO,EAAE,IAAI;YACbD,OAAO,EAAEQ;UACX;QACF,CAAC;MACH;IACA,KAAKlB,eAAe;MAAE;QACpB,OAAO;UACL,GAAGa,KAAK;UACRR,OAAO,EAAE;QACX,CAAC;MACH;IACA,KAAKP,cAAc;MAAE;QACnB,MAAM;UAAEqB,IAAI;UAAElB;QAAM,CAAC,GAAGiB,OAAO;QAC/BhB,YAAY,CAACkB,OAAO,CAAC,OAAO,EAAEnB,KAAK,CAAC;QACpC,OAAO;UACL,GAAGY,KAAK;UACRR,OAAO,EAAE,KAAK;UACdC,QAAQ,EAAE;YACRL,KAAK,EAAEA,KAAK;YACZM,eAAe,EAAE,IAAI;YACrBC,UAAU,EAAEW;UACd;QACF,CAAC;MACH;IACA,KAAKpB,eAAe;MAAE;QACpBG,YAAY,CAACmB,UAAU,CAAC,OAAO,CAAC;QAChC,OAAO;UACL,GAAGR,KAAK;UACRR,OAAO,EAAE,KAAK;UACdC,QAAQ,EAAE;YACRL,KAAK,EAAE,IAAI;YACXM,eAAe,EAAE,KAAK;YACtBC,UAAU,EAAE;UACd;QACF,CAAC;MACH;IAEA;MAAS;QACP,OAAOK,KAAK;MACd;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}