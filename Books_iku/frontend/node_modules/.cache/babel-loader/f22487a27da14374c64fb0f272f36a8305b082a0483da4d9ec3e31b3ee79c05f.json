{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ngova/Downloads/Book_Store_App-master/Book_Store_App-master/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ngova/Downloads/Book_Store_App-master/Book_Store_App-master/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/ngova/Downloads/Book_Store_App-master/Book_Store_App-master/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/ngova/Downloads/Book_Store_App-master/Book_Store_App-master/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/ngova/Downloads/Book_Store_App-master/Book_Store_App-master/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,Container,FormControl,Heading,Input,VStack}from\"@chakra-ui/react\";import React,{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useLocation,useNavigate}from\"react-router-dom\";import{useToast}from\"@chakra-ui/react\";import{login}from\"../Redux/Auth/Auth.action\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initState={email:\"\",password:\"\"};var Login=function Login(){var _useState=useState(initState),_useState2=_slicedToArray(_useState,2),loginDetails=_useState2[0],setLoginDetails=_useState2[1];var email=loginDetails.email,password=loginDetails.password;var _useSelector=useSelector(function(store){return store.auth;}),loading=_useSelector.loading,authData=_useSelector.authData,error=_useSelector.error;var isAuthenticated=authData.isAuthenticated;var message=error.message,isError=error.isError;var _useLocation=useLocation(),state=_useLocation.state;var toast=useToast();var navigate=useNavigate();var dispatch=useDispatch();// Handles input change event\nvar handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setLoginDetails(_objectSpread(_objectSpread({},loginDetails),{},_defineProperty({},name,value)));};var handleKeyPress=function handleKeyPress(e){if(e.key===\"Enter\"){handleLogin();}};var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(email===\"\"||password===\"\")){_context.next=2;break;}return _context.abrupt(\"return\",alert(\"fill both credentials\"));case 2:dispatch(login(loginDetails));if(isAuthenticated){toast({title:\"Login Success.\",description:\"Now you can explore.\",status:\"success\",duration:2000,isClosable:true});if(state!==null){navigate(state,{replace:true});}else{navigate(\"/\");}}if(isError){toast({title:\"Login Failed.\",description:\"\".concat(message),status:\"error\",duration:2000,isClosable:true});}case 5:case\"end\":return _context.stop();}},_callee);}));return function handleLogin(){return _ref.apply(this,arguments);};}();var handleSignUp=function handleSignUp(){navigate(\"/signup\");};return/*#__PURE__*/_jsx(Container,{width:\"100%\",minHeight:\"100vh\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",background:\"black\",color:\"white\",children:/*#__PURE__*/_jsxs(VStack,{width:\"full\",maxWidth:\"400px\",borderRadius:\"lg\",boxShadow:\"rgba(0, 0, 0, 0.24) 0px 3px 8px\",p:4,children:[/*#__PURE__*/_jsx(Heading,{fontWeight:\"bolder\",textAlign:\"center\",fontSize:\"20px\",mb:\"20px\",children:\"LOG-IN\"}),/*#__PURE__*/_jsx(FormControl,{p:2,children:/*#__PURE__*/_jsx(Input,{name:\"email\",value:email,onChange:handleChange,onKeyPress:handleKeyPress,type:\"text\",placeholder:\"Enter Email\",borderRadius:\"lg\",focusBorderColor:\"teal.100\",required:true})}),/*#__PURE__*/_jsx(FormControl,{p:2,children:/*#__PURE__*/_jsx(Input,{name:\"password\",value:password,onChange:handleChange,onKeyPress:handleKeyPress,type:\"password\",placeholder:\"Enter password\",borderRadius:\"lg\",focusBorderColor:\"teal.100\",required:true})}),/*#__PURE__*/_jsx(FormControl,{children:/*#__PURE__*/_jsx(Button,{isLoading:loading,loadingText:\"Submitting\",width:\"full\",p:4,borderRadius:\"lg\",colorScheme:\"teal\",_hover:{bg:\"teal.300\",color:\"white\"},variant:\"outline\",mt:4,onClick:handleLogin,children:\"LOG-IN\"})}),/*#__PURE__*/_jsx(FormControl,{children:/*#__PURE__*/_jsx(Button,{width:\"full\",p:4,borderRadius:\"lg\",colorScheme:\"teal\",_hover:{bg:\"teal.300\",color:\"white\"},variant:\"outline\",mt:4,onClick:handleSignUp,children:\"SIGN-UP\"})})]})});};export default Login;","map":{"version":3,"names":["Button","Container","FormControl","Heading","Input","VStack","React","useState","useDispatch","useSelector","useLocation","useNavigate","useToast","login","jsx","_jsx","jsxs","_jsxs","initState","email","password","Login","_useState","_useState2","_slicedToArray","loginDetails","setLoginDetails","_useSelector","store","auth","loading","authData","error","isAuthenticated","message","isError","_useLocation","state","toast","navigate","dispatch","handleChange","e","_e$target","target","name","value","_objectSpread","_defineProperty","handleKeyPress","key","handleLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","alert","title","description","status","duration","isClosable","replace","concat","stop","apply","arguments","handleSignUp","width","minHeight","display","alignItems","justifyContent","background","color","children","maxWidth","borderRadius","boxShadow","p","fontWeight","textAlign","fontSize","mb","onChange","onKeyPress","type","placeholder","focusBorderColor","required","isLoading","loadingText","colorScheme","_hover","bg","variant","mt","onClick"],"sources":["C:/Users/ngova/Downloads/Book_Store_App-master/Book_Store_App-master/frontend/src/Pages/Login.jsx"],"sourcesContent":["import {\n  Button,\n  Container,\n  FormControl,\n  Heading,\n  Input,\n  VStack,\n} from \"@chakra-ui/react\";\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { useToast } from \"@chakra-ui/react\";\nimport { login } from \"../Redux/Auth/Auth.action\";\n\nconst initState = {\n  email: \"\",\n  password: \"\",\n};\n\nconst Login = () => {\n  const [loginDetails, setLoginDetails] = useState(initState);\n  const { email, password } = loginDetails;\n  const { loading, authData, error } = useSelector((store) => store.auth);\n  const { isAuthenticated } = authData;\n  const { message, isError } = error;\n  const { state } = useLocation();\n  const toast = useToast();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  // Handles input change event\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setLoginDetails({ ...loginDetails, [name]: value });\n  };\n\n\n  const handleKeyPress = (e) => {\n    if (e.key === \"Enter\") {\n      handleLogin();\n    }\n  };\n\n\n  const handleLogin = async () => {\n    if (email === \"\" || password === \"\") {\n      return alert(\"fill both credentials\");\n    \n    }\n    dispatch(login(loginDetails));\n    if (isAuthenticated) {\n      toast({\n        title: \"Login Success.\",\n        description: \"Now you can explore.\",\n        status: \"success\",\n        duration: 2000,\n        isClosable: true,\n      });\n      if (state !== null) {\n        navigate(state, { replace: true });\n      } else {\n        navigate(\"/\");\n      }\n    }\n\n    if (isError) {\n      toast({\n        title: \"Login Failed.\",\n        description: `${message}`,\n        status: \"error\",\n        duration: 2000,\n        isClosable: true,\n      });\n    }\n  };\n\n  const handleSignUp = () => {\n    navigate(\"/signup\");\n  };\n\n  return (\n    <Container\n      width=\"100%\"\n      minHeight=\"100vh\"\n      display=\"flex\"\n      alignItems=\"center\"\n      justifyContent=\"center\"\n      background={\"black\"}\n      color={\"white\"}\n    >\n      <VStack\n        width=\"full\"\n        maxWidth=\"400px\"\n        borderRadius=\"lg\"\n        boxShadow=\"rgba(0, 0, 0, 0.24) 0px 3px 8px\"\n        p={4}\n      >\n        <Heading\n          fontWeight=\"bolder\"\n          textAlign=\"center\"\n          fontSize=\"20px\"\n          mb=\"20px\"\n        >\n          LOG-IN\n        </Heading>\n        <FormControl p={2}>\n          <Input\n            name=\"email\"\n            value={email}\n            onChange={handleChange}\n            onKeyPress={handleKeyPress}\n            type=\"text\"\n            placeholder=\"Enter Email\"\n            borderRadius=\"lg\"\n            focusBorderColor=\"teal.100\"\n            required\n          />\n        </FormControl>\n        <FormControl p={2}>\n          <Input\n            name=\"password\"\n            value={password}\n            onChange={handleChange}\n            onKeyPress={handleKeyPress}\n            type=\"password\"\n            placeholder=\"Enter password\"\n            borderRadius=\"lg\"\n            focusBorderColor=\"teal.100\"\n            required\n          />\n        </FormControl>\n\n        <FormControl>\n          <Button\n            isLoading={loading}\n            loadingText=\"Submitting\"\n            width=\"full\"\n            p={4}\n            borderRadius=\"lg\"\n            colorScheme=\"teal\"\n            _hover={{\n              bg: \"teal.300\",\n              color: \"white\",\n            }}\n            variant=\"outline\"\n            mt={4}\n            onClick={handleLogin}\n          >\n            LOG-IN\n          </Button>\n        </FormControl>\n        <FormControl>\n          <Button\n            width=\"full\"\n            p={4}\n            borderRadius=\"lg\"\n            colorScheme=\"teal\"\n            _hover={{\n              bg: \"teal.300\",\n              color: \"white\",\n            }}\n            variant=\"outline\"\n            mt={4}\n            onClick={handleSignUp}\n          >\n            SIGN-UP\n          </Button>\n        </FormControl>\n      </VStack>\n    </Container>\n  );\n};\n\nexport default Login;\n"],"mappings":"g0BAAA,OACEA,MAAM,CACNC,SAAS,CACTC,WAAW,CACXC,OAAO,CACPC,KAAK,CACLC,MAAM,KACD,kBAAkB,CACzB,MAAO,CAAAC,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,OAASC,KAAK,KAAQ,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElD,GAAM,CAAAC,SAAS,CAAG,CAChBC,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EACZ,CAAC,CAED,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAAS,CAClB,IAAAC,SAAA,CAAwCf,QAAQ,CAACW,SAAS,CAAC,CAAAK,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAApDG,YAAY,CAAAF,UAAA,IAAEG,eAAe,CAAAH,UAAA,IACpC,GAAQ,CAAAJ,KAAK,CAAeM,YAAY,CAAhCN,KAAK,CAAEC,QAAQ,CAAKK,YAAY,CAAzBL,QAAQ,CACvB,IAAAO,YAAA,CAAqClB,WAAW,CAAC,SAACmB,KAAK,QAAK,CAAAA,KAAK,CAACC,IAAI,GAAC,CAA/DC,OAAO,CAAAH,YAAA,CAAPG,OAAO,CAAEC,QAAQ,CAAAJ,YAAA,CAARI,QAAQ,CAAEC,KAAK,CAAAL,YAAA,CAALK,KAAK,CAChC,GAAQ,CAAAC,eAAe,CAAKF,QAAQ,CAA5BE,eAAe,CACvB,GAAQ,CAAAC,OAAO,CAAcF,KAAK,CAA1BE,OAAO,CAAEC,OAAO,CAAKH,KAAK,CAAjBG,OAAO,CACxB,IAAAC,YAAA,CAAkB1B,WAAW,CAAC,CAAC,CAAvB2B,KAAK,CAAAD,YAAA,CAALC,KAAK,CACb,GAAM,CAAAC,KAAK,CAAG1B,QAAQ,CAAC,CAAC,CACxB,GAAM,CAAA2B,QAAQ,CAAG5B,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAA6B,QAAQ,CAAGhC,WAAW,CAAC,CAAC,CAE9B;AACA,GAAM,CAAAiC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,CAAC,CAAK,CAC1B,IAAAC,SAAA,CAAwBD,CAAC,CAACE,MAAM,CAAxBC,IAAI,CAAAF,SAAA,CAAJE,IAAI,CAAEC,KAAK,CAAAH,SAAA,CAALG,KAAK,CACnBpB,eAAe,CAAAqB,aAAA,CAAAA,aAAA,IAAMtB,YAAY,KAAAuB,eAAA,IAAGH,IAAI,CAAGC,KAAK,EAAE,CAAC,CACrD,CAAC,CAGD,GAAM,CAAAG,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIP,CAAC,CAAK,CAC5B,GAAIA,CAAC,CAACQ,GAAG,GAAK,OAAO,CAAE,CACrBC,WAAW,CAAC,CAAC,CACf,CACF,CAAC,CAGD,GAAM,CAAAA,WAAW,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,cACd1C,KAAK,GAAK,EAAE,EAAIC,QAAQ,GAAK,EAAE,GAAAuC,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAG,MAAA,UAC1BC,KAAK,CAAC,uBAAuB,CAAC,SAGvCvB,QAAQ,CAAC3B,KAAK,CAACY,YAAY,CAAC,CAAC,CAC7B,GAAIQ,eAAe,CAAE,CACnBK,KAAK,CAAC,CACJ0B,KAAK,CAAE,gBAAgB,CACvBC,WAAW,CAAE,sBAAsB,CACnCC,MAAM,CAAE,SAAS,CACjBC,QAAQ,CAAE,IAAI,CACdC,UAAU,CAAE,IACd,CAAC,CAAC,CACF,GAAI/B,KAAK,GAAK,IAAI,CAAE,CAClBE,QAAQ,CAACF,KAAK,CAAE,CAAEgC,OAAO,CAAE,IAAK,CAAC,CAAC,CACpC,CAAC,IAAM,CACL9B,QAAQ,CAAC,GAAG,CAAC,CACf,CACF,CAEA,GAAIJ,OAAO,CAAE,CACXG,KAAK,CAAC,CACJ0B,KAAK,CAAE,eAAe,CACtBC,WAAW,IAAAK,MAAA,CAAKpC,OAAO,CAAE,CACzBgC,MAAM,CAAE,OAAO,CACfC,QAAQ,CAAE,IAAI,CACdC,UAAU,CAAE,IACd,CAAC,CAAC,CACJ,CAAC,wBAAAT,QAAA,CAAAY,IAAA,MAAAf,OAAA,GACF,kBA9BK,CAAAL,WAAWA,CAAA,SAAAC,IAAA,CAAAoB,KAAA,MAAAC,SAAA,OA8BhB,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzBnC,QAAQ,CAAC,SAAS,CAAC,CACrB,CAAC,CAED,mBACExB,IAAA,CAACd,SAAS,EACR0E,KAAK,CAAC,MAAM,CACZC,SAAS,CAAC,OAAO,CACjBC,OAAO,CAAC,MAAM,CACdC,UAAU,CAAC,QAAQ,CACnBC,cAAc,CAAC,QAAQ,CACvBC,UAAU,CAAE,OAAQ,CACpBC,KAAK,CAAE,OAAQ,CAAAC,QAAA,cAEfjE,KAAA,CAACZ,MAAM,EACLsE,KAAK,CAAC,MAAM,CACZQ,QAAQ,CAAC,OAAO,CAChBC,YAAY,CAAC,IAAI,CACjBC,SAAS,CAAC,iCAAiC,CAC3CC,CAAC,CAAE,CAAE,CAAAJ,QAAA,eAELnE,IAAA,CAACZ,OAAO,EACNoF,UAAU,CAAC,QAAQ,CACnBC,SAAS,CAAC,QAAQ,CAClBC,QAAQ,CAAC,MAAM,CACfC,EAAE,CAAC,MAAM,CAAAR,QAAA,CACV,QAED,CAAS,CAAC,cACVnE,IAAA,CAACb,WAAW,EAACoF,CAAC,CAAE,CAAE,CAAAJ,QAAA,cAChBnE,IAAA,CAACX,KAAK,EACJyC,IAAI,CAAC,OAAO,CACZC,KAAK,CAAE3B,KAAM,CACbwE,QAAQ,CAAElD,YAAa,CACvBmD,UAAU,CAAE3C,cAAe,CAC3B4C,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,aAAa,CACzBV,YAAY,CAAC,IAAI,CACjBW,gBAAgB,CAAC,UAAU,CAC3BC,QAAQ,MACT,CAAC,CACS,CAAC,cACdjF,IAAA,CAACb,WAAW,EAACoF,CAAC,CAAE,CAAE,CAAAJ,QAAA,cAChBnE,IAAA,CAACX,KAAK,EACJyC,IAAI,CAAC,UAAU,CACfC,KAAK,CAAE1B,QAAS,CAChBuE,QAAQ,CAAElD,YAAa,CACvBmD,UAAU,CAAE3C,cAAe,CAC3B4C,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,gBAAgB,CAC5BV,YAAY,CAAC,IAAI,CACjBW,gBAAgB,CAAC,UAAU,CAC3BC,QAAQ,MACT,CAAC,CACS,CAAC,cAEdjF,IAAA,CAACb,WAAW,EAAAgF,QAAA,cACVnE,IAAA,CAACf,MAAM,EACLiG,SAAS,CAAEnE,OAAQ,CACnBoE,WAAW,CAAC,YAAY,CACxBvB,KAAK,CAAC,MAAM,CACZW,CAAC,CAAE,CAAE,CACLF,YAAY,CAAC,IAAI,CACjBe,WAAW,CAAC,MAAM,CAClBC,MAAM,CAAE,CACNC,EAAE,CAAE,UAAU,CACdpB,KAAK,CAAE,OACT,CAAE,CACFqB,OAAO,CAAC,SAAS,CACjBC,EAAE,CAAE,CAAE,CACNC,OAAO,CAAErD,WAAY,CAAA+B,QAAA,CACtB,QAED,CAAQ,CAAC,CACE,CAAC,cACdnE,IAAA,CAACb,WAAW,EAAAgF,QAAA,cACVnE,IAAA,CAACf,MAAM,EACL2E,KAAK,CAAC,MAAM,CACZW,CAAC,CAAE,CAAE,CACLF,YAAY,CAAC,IAAI,CACjBe,WAAW,CAAC,MAAM,CAClBC,MAAM,CAAE,CACNC,EAAE,CAAE,UAAU,CACdpB,KAAK,CAAE,OACT,CAAE,CACFqB,OAAO,CAAC,SAAS,CACjBC,EAAE,CAAE,CAAE,CACNC,OAAO,CAAE9B,YAAa,CAAAQ,QAAA,CACvB,SAED,CAAQ,CAAC,CACE,CAAC,EACR,CAAC,CACA,CAAC,CAEhB,CAAC,CAED,cAAe,CAAA7D,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}